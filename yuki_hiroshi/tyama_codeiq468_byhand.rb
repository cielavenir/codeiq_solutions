#!/usr/bin/ruby
while DATA.gets
	next if $_.start_with?('---')
	puts $_.chomp.gsub(' ','').gsub('|','.').gsub(/\.+$/,'')
end
puts <<EOM
ENV: 手計算(Rubyで整形)
POINT: 不明
何らかの規則性が見えるものの、アルゴリズムに落としこむことはできなかった。
今回はサイズが小さかったので手計算で求めた。
よって自信なしです(汗)

下の図は必要でしたら使っていただいて構いません。
EOM

__END__
12345|     |     |     |
1234 |    5|     |     |
123 5|   4 |     |     |
123  |   45|     |     |
123  |   4 |    5|     |
12 45|  3  |     |     |
12 4 |  3 5|     |     |
12 4 |  3  |    5|     |
12  5|  34 |     |     |
12   |  345|     |     |
12   |  34 |    5|     |
12  5|  3  |   4 |     |
12   |  3 5|   4 |     |
12   |  3  |   45|     |
12   |  3  |   4 |    5|
1 345| 2   |     |     |
1 34 | 2  5|     |     |
1 34 | 2   |    5|     |
1 3 5| 2 4 |     |     |
1 3  | 2 45|     |     |
1 3  | 2 4 |    5|     |
1 3 5| 2   |   4 |     |
1 3  | 2  5|   4 |     |
1 3  | 2   |   45|     |
1 3  | 2   |   4 |    5|
1  45| 23  |     |     |
------------------------ 20 broken lines
1  4 | 23 5|     |     |
1  4 | 23  |    5|     |
1   5| 234 |     |     |
1    | 2345|     |     |
1    | 234 |    5|     |
1   5| 23  |   4 |     |
1    | 23 5|   4 |     |
1    | 23  |   45|     |
1    | 23  |   4 |    5|
1  45| 2   |  3  |     |
1  4 | 2  5|  3  |     |
1  4 | 2   |  3 5|     |
1  4 | 2   |  3  |    5|
1   5| 2 4 |  3  |     |
1    | 2 45|  3  |     |
1    | 2 4 |  3 5|     |
1    | 2 4 |  3  |    5|
1   5| 2   |  34 |     |
1    | 2  5|  34 |     |
1    | 2   |  345|     |
------------------------ until here
1    | 2   |  34 |    5|
1   5| 2   |  3  |   4 |
1    | 2  5|  3  |   4 |
1    | 2   |  3 5|   4 |
1    | 2   |  3  |   45|
1    | 2   |  3  |   4 |5