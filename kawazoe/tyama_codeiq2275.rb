#!/usr/bin/ruby
N=gets.to_i
r=0
1.step(N){|b|
	a=1
	m=[0]
	while (c=(b*b)/(4*a))>=1
		if m[c]
			r+=m[c]+c*(-a+1)
			break
		end
		m[a]=m[a-1]+c
		r+=c
		a+=1
	end
}
p r
__END__
【方針】
各bについて。
各aに対しcの個数を求め、記録していく。この個数は反比例のグラフのような分布を取る。
したがって、a<=cすなわちa<=b/2の範囲まで計算してしまえば、残りは記録をたどることで計算できる。
このとき、この記録自体を累積和のような形にしておくことで、定数倍の高速化が可能となる(これにより1秒制限に間に合う)。

計算量は各bにつきO(b)だから、全体でO(N^2)となる。
【言語】
Ruby
【コード】